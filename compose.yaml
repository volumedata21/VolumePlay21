services:
  volumeplay:
    build: .
    container_name: volumeplay
    ports:
      - "2121:5000" # Host port 8080 maps to container port 5000
    volumes:
      - ./videos:/videos:ro # Mounts your local ./videos folder as read-only
      - ./data:/data # Creates a named volume for the persistent database
    environment:
      - DATA_DIR=/data
      - VIDEO_DIR=/videos
      - FLASK_DEBUG=0 # Set to 1 for development, 0 for production
    restart: unless-stopped
